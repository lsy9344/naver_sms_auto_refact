{
  "bookings": [
    {
      "id": "booking_001",
      "name": "New Booking - No DB Record",
      "description": "Test Case 1: New booking detected (not yet in DynamoDB)",
      "booking": {
        "customer_phone": "01012345678",
        "customer_name": "김철수",
        "store_id": 1051707,
        "booking_time": "2025-10-19T14:00:00",
        "status": "confirmed"
      },
      "db_record": null,
      "current_time": "2025-10-18T14:00:00",
      "expected_rule_matches": [
        "New Booking Confirmation"
      ]
    },
    {
      "id": "booking_002",
      "name": "Two-Hour Reminder - Should Trigger",
      "description": "Test Case 2: Booking in 2-hour window AND reminder not yet sent",
      "booking": {
        "customer_phone": "01087654321",
        "customer_name": "이영희",
        "store_id": 1051707,
        "booking_time": "2025-10-19T16:30:00",
        "status": "confirmed"
      },
      "db_record": {
        "booking_id": "booking_002",
        "created_at": "2025-10-19T10:00:00",
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-19T14:35:00",
      "expected_rule_matches": [
        "Two-Hour Reminder"
      ]
    },
    {
      "id": "booking_003",
      "name": "Evening Option SMS - Should Trigger",
      "description": "Test Case 3: Current time is 20:00 (8 PM) AND customer has option AND SMS not yet sent",
      "booking": {
        "customer_phone": "01056781234",
        "customer_name": "박민수",
        "store_id": 1051707,
        "booking_time": "2025-10-19T19:00:00",
        "status": "confirmed",
        "option": "네이버"
      },
      "db_record": {
        "booking_id": "booking_003",
        "created_at": "2025-10-19T10:00:00",
        "remind_sms": true,
        "option_sms": false
      },
      "current_time": "2025-10-19T20:00:00",
      "expected_rule_matches": [
        "Evening Option SMS"
      ]
    },
    {
      "id": "booking_004",
      "name": "All Flags Set - No Rules Match",
      "description": "Test Case 4: Booking already processed (all flags set)",
      "booking": {
        "customer_phone": "01098765432",
        "customer_name": "최영수",
        "store_id": 1051707,
        "booking_time": "2025-10-19T18:00:00",
        "status": "confirmed"
      },
      "db_record": {
        "booking_id": "booking_004",
        "created_at": "2025-10-19T10:00:00",
        "remind_sms": true,
        "option_sms": true
      },
      "current_time": "2025-10-19T14:30:00",
      "expected_rule_matches": []
    },
    {
      "id": "booking_005",
      "name": "No Option Keyword - No Option SMS",
      "description": "Test Case 5: Booking at 8 PM but no matching option keyword",
      "booking": {
        "customer_phone": "01011111111",
        "customer_name": "정준호",
        "store_id": 1051707,
        "booking_time": "2025-10-19T19:00:00",
        "status": "confirmed",
        "option": "기타옵션"
      },
      "db_record": {
        "booking_id": "booking_005",
        "created_at": "2025-10-19T10:00:00",
        "remind_sms": true,
        "option_sms": false
      },
      "current_time": "2025-10-19T20:00:00",
      "expected_rule_matches": []
    },
    {
      "id": "booking_006",
      "name": "Date Range - Within Range",
      "description": "Story 6.3: Test booking with reserve_at within specified date range (2025-10-19 to 2025-10-19)",
      "booking": {
        "customer_phone": "01022222222",
        "customer_name": "호영민",
        "store_id": 1051707,
        "booking_time": "2025-10-19T15:00:00",
        "status": "confirmed"
      },
      "db_record": {
        "booking_id": "booking_006",
        "created_at": "2025-10-19T10:00:00",
        "confirm_sms": false,
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-19T15:00:00",
      "expected_rule_matches": []
    },
    {
      "id": "booking_007",
      "name": "Date Range - Outside Range (Before)",
      "description": "Story 6.3: Test booking with reserve_at before specified date range",
      "booking": {
        "customer_phone": "01033333333",
        "customer_name": "이순신",
        "store_id": 1051707,
        "booking_time": "2025-10-18T10:00:00",
        "status": "confirmed"
      },
      "db_record": {
        "booking_id": "booking_007",
        "created_at": "2025-10-18T10:00:00",
        "confirm_sms": false,
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-18T10:00:00",
      "expected_rule_matches": []
    },
    {
      "id": "booking_008",
      "name": "Date Range - Outside Range (After)",
      "description": "Story 6.3: Test booking with reserve_at after specified date range",
      "booking": {
        "customer_phone": "01044444444",
        "customer_name": "김유신",
        "store_id": 1051707,
        "booking_time": "2025-10-20T10:00:00",
        "status": "confirmed"
      },
      "db_record": {
        "booking_id": "booking_008",
        "created_at": "2025-10-20T10:00:00",
        "confirm_sms": false,
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-20T10:00:00",
      "expected_rule_matches": []
    },
    {
      "id": "booking_009",
      "name": "Expert Correction Slack Digest",
      "description": "Story 6.1, AC1: Test booking that matches 'Expert Correction Slack Digest' rule via has_option_keyword condition",
      "booking": {
        "customer_phone": "01055555555",
        "customer_name": "이혜진",
        "store_id": 1051707,
        "booking_time": "2025-10-19T14:00:00",
        "status": "confirmed",
        "option": "전문가 보정"
      },
      "db_record": {
        "booking_id": "booking_009",
        "created_at": "2025-10-19T10:00:00",
        "confirm_sms": true,
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-19T14:00:00",
      "expected_rule_matches": [
        "Expert Correction Slack Digest"
      ]
    },
    {
      "id": "booking_010",
      "name": "Holiday Event Customer List",
      "description": "Story 6.1, AC3: Test booking that matches 'Holiday Event Customer List' rule via date_range and has_multiple_options conditions",
      "booking": {
        "customer_phone": "01066666666",
        "customer_name": "박준호",
        "store_id": 1051707,
        "booking_time": "2025-10-19T18:30:00",
        "status": "confirmed",
        "option_keywords": [
          "네이버",
          "원본"
        ]
      },
      "db_record": {
        "booking_id": "booking_010",
        "created_at": "2025-10-19T10:00:00",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false
      },
      "current_time": "2025-10-19T14:00:00",
      "expected_rule_matches": [
        "Holiday Event Customer List"
      ]
    },
    {
      "id": "booking_009_slack_enabled",
      "name": "Expert Correction Slack Digest - Slack Enabled",
      "description": "Story 6.1, AC1, AC4: Same as booking_009 but with Slack enabled to demonstrate send_slack action",
      "booking": {
        "customer_phone": "01055555555",
        "customer_name": "이혜진",
        "store_id": 1051707,
        "booking_time": "2025-10-19T14:00:00",
        "status": "confirmed",
        "option": "전문가 보정"
      },
      "db_record": {
        "booking_id": "booking_009_slack_enabled",
        "created_at": "2025-10-19T10:00:00",
        "confirm_sms": true,
        "remind_sms": false,
        "option_sms": false
      },
      "current_time": "2025-10-19T14:00:00",
      "slack_enabled": true,
      "expected_rule_matches": [
        "Expert Correction Slack Digest"
      ]
    },
    {
      "id": "booking_010_slack_enabled",
      "name": "Holiday Event Customer List - Slack Enabled",
      "description": "Story 6.1, AC3, AC4: Same as booking_010 but with Slack enabled to demonstrate send_slack action for holiday event digest",
      "booking": {
        "customer_phone": "01066666666",
        "customer_name": "박준호",
        "store_id": 1051707,
        "booking_time": "2025-10-19T18:30:00",
        "status": "confirmed",
        "option_keywords": [
          "네이버",
          "원본"
        ]
      },
      "db_record": {
        "booking_id": "booking_010_slack_enabled",
        "created_at": "2025-10-19T10:00:00",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false
      },
      "current_time": "2025-10-19T14:00:00",
      "slack_enabled": true,
      "expected_rule_matches": [
        "Holiday Event Customer List"
      ]
    }
  ]
}
{
  "metadata": {
    "version": "1.0",
    "description": "Synthetic production-equivalent bookings covering all edge cases",
    "generated_date": "2025-10-19",
    "edge_cases": [
      "new_booking_confirmation",
      "two_hour_window_reminder",
      "option_keyword_trigger_at_8pm",
      "cookie_expiry_forced_refresh",
      "empty_booking_response",
      "high_volume_processing"
    ]
  },
  "bookings": [
    {
      "scenario": "CASE 1: New Booking Confirmation",
      "booking_id": "case1_new_booking_001",
      "biz_id": 1051707,
      "book_id": "BK20251019001",
      "customer_phone": "01012345678",
      "customer_name": "김철수",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T14:00:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T14:00:00",
      "notes": "New booking not yet in DynamoDB. Should trigger 'confirm_sms' action"
    },
    {
      "scenario": "CASE 2: Two-Hour Window Reminder",
      "booking_id": "case2_two_hour_001",
      "biz_id": 1051707,
      "book_id": "BK20251019002",
      "customer_phone": "01087654321",
      "customer_name": "이영희",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T16:30:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019002",
        "phone": "01087654321",
        "confirm_sms": true,
        "remind_sms": false,
        "option_sms": false,
        "created_at": "2025-10-19T10:00:00"
      },
      "current_time_for_test": "2025-10-19T14:35:00",
      "notes": "Within 2-hour window (16:30 - 14:35 = 1h55m). remind_sms not sent yet. Should trigger reminder action"
    },
    {
      "scenario": "CASE 3: Option Keyword Trigger at 8 PM",
      "booking_id": "case3_option_8pm_001",
      "biz_id": 1051707,
      "book_id": "BK20251019003",
      "customer_phone": "01056781234",
      "customer_name": "박민수",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T19:00:00",
      "status": "confirmed",
      "option": "네이버",
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019003",
        "phone": "01056781234",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false,
        "created_at": "2025-10-19T10:00:00"
      },
      "current_time_for_test": "2025-10-19T20:00:00",
      "notes": "Current hour is 20:00 (8 PM). Has matching option keyword '네이버'. option_sms not sent. Should trigger event SMS"
    },
    {
      "scenario": "CASE 3B: Option Keyword Trigger - Alternative keyword",
      "booking_id": "case3b_option_8pm_002",
      "biz_id": 1051707,
      "book_id": "BK20251019003B",
      "customer_phone": "01011223344",
      "customer_name": "정혜진",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T19:30:00",
      "status": "confirmed",
      "option": "인스타",
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019003B",
        "phone": "01011223344",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false,
        "created_at": "2025-10-19T10:00:00"
      },
      "current_time_for_test": "2025-10-19T20:00:00",
      "notes": "Current hour is 20:00. Has matching option keyword '인스타'. Should trigger event SMS"
    },
    {
      "scenario": "CASE 3C: Option Keyword Trigger - Third keyword",
      "booking_id": "case3c_option_8pm_003",
      "biz_id": 1051707,
      "book_id": "BK20251019003C",
      "customer_phone": "01055554444",
      "customer_name": "최영진",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T19:15:00",
      "status": "confirmed",
      "option": "원본",
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019003C",
        "phone": "01055554444",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false,
        "created_at": "2025-10-19T10:00:00"
      },
      "current_time_for_test": "2025-10-19T20:00:00",
      "notes": "Current hour is 20:00. Has matching option keyword '원본'. Should trigger event SMS"
    },
    {
      "scenario": "CASE 4: Cookie Expiry - Forced Session Refresh",
      "booking_id": "case4_cookie_refresh_001",
      "biz_id": 1051708,
      "book_id": "BK20251019004",
      "customer_phone": "01098765432",
      "customer_name": "최영수",
      "store_name": "서울명동점",
      "booking_time": "2025-10-19T18:00:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "session_expired": true,
      "notes": "Session cookies expired. Should trigger re-authentication. Naver login required (Selenium)"
    },
    {
      "scenario": "CASE 4B: Cookie Expiry - Multiple bookings after refresh",
      "booking_id": "case4b_cookie_refresh_002",
      "biz_id": 1051708,
      "book_id": "BK20251019004B",
      "customer_phone": "01012341234",
      "customer_name": "이준호",
      "store_name": "서울명동점",
      "booking_time": "2025-10-19T17:30:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "session_expired": true,
      "notes": "Multiple bookings after session refresh. Tests cookie persistence"
    },
    {
      "scenario": "CASE 5: Empty Booking Response",
      "booking_id": "case5_empty_response",
      "biz_id": 1051709,
      "book_id": "EMPTY",
      "customer_phone": null,
      "customer_name": null,
      "store_name": "서울압구정점",
      "booking_time": null,
      "status": "empty",
      "option": null,
      "created_at": null,
      "notes": "No bookings returned from API for this store. Should handle gracefully"
    },
    {
      "scenario": "CASE 6: High-Volume Processing - Batch 1",
      "booking_id": "case6_volume_001",
      "biz_id": 1051707,
      "book_id": "BK20251019100",
      "customer_phone": "01000001111",
      "customer_name": "회원001",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T15:00:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "notes": "High-volume test: First of 50 bookings"
    },
    {
      "scenario": "CASE 6: High-Volume Processing - Batch 2",
      "booking_id": "case6_volume_002",
      "biz_id": 1051707,
      "book_id": "BK20251019101",
      "customer_phone": "01000002222",
      "customer_name": "회원002",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T15:10:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "notes": "High-volume test: Second of 50 bookings"
    },
    {
      "scenario": "CASE 6: High-Volume Processing - Batch 3",
      "booking_id": "case6_volume_003",
      "biz_id": 1051707,
      "book_id": "BK20251019102",
      "customer_phone": "01000003333",
      "customer_name": "회원003",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T15:20:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "notes": "High-volume test: Third of 50 bookings"
    },
    {
      "scenario": "CASE 6: High-Volume Processing - Batch 50 (final)",
      "booking_id": "case6_volume_050",
      "biz_id": 1051707,
      "book_id": "BK20251019149",
      "customer_phone": "01000050050",
      "customer_name": "회원050",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T15:50:00",
      "status": "confirmed",
      "option": null,
      "created_at": "2025-10-19T10:00:00",
      "notes": "High-volume test: Final batch of 50 bookings"
    },
    {
      "scenario": "CASE 1B: New Booking with Option",
      "booking_id": "case1b_new_with_option",
      "biz_id": 1051707,
      "book_id": "BK20251019200",
      "customer_phone": "01066667777",
      "customer_name": "강아름",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T19:00:00",
      "status": "confirmed",
      "option": "네이버",
      "created_at": "2025-10-19T10:00:00",
      "notes": "New booking with option keyword at 8 PM hour"
    },
    {
      "scenario": "CASE 2B: Already Processed - All Flags Set",
      "booking_id": "case2b_all_flags_set",
      "biz_id": 1051707,
      "book_id": "BK20251019201",
      "customer_phone": "01088889999",
      "customer_name": "박두희",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T18:00:00",
      "status": "confirmed",
      "option": "인스타",
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019201",
        "phone": "01088889999",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": true,
        "created_at": "2025-10-19T10:00:00"
      },
      "notes": "All flags already set. No actions should execute"
    },
    {
      "scenario": "CASE 2C: No Option Match - Should not trigger option SMS",
      "booking_id": "case2c_no_option_match",
      "biz_id": 1051707,
      "book_id": "BK20251019202",
      "customer_phone": "01077776666",
      "customer_name": "이지훈",
      "store_name": "서울강남점",
      "booking_time": "2025-10-19T19:00:00",
      "status": "confirmed",
      "option": "유튜브",
      "created_at": "2025-10-19T10:00:00",
      "db_record": {
        "booking_num": "1051707_BK20251019202",
        "phone": "01077776666",
        "confirm_sms": true,
        "remind_sms": true,
        "option_sms": false,
        "created_at": "2025-10-19T10:00:00"
      },
      "current_time_for_test": "2025-10-19T20:00:00",
      "notes": "Option keyword '유튜브' does not match allowed keywords. No option SMS should trigger"
    }
  ]
}
